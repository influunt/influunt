package test.execucao.bugs;

import engine.EventoMotor;
import engine.Motor;
import engine.TipoEvento;
import json.ControladorCustomDeserializer;
import models.Anel;
import models.EstadoGrupoSemaforico;
import models.TipoDetector;
import org.apache.commons.math3.util.Pair;
import org.joda.time.DateTime;
import org.junit.Before;
import org.junit.Test;
import play.libs.Json;
import test.execucao.GerenciadorDeTrocasTest;

import java.io.IOException;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertTrue;

/**
 * Created by leonardo on 1/12/17.
 */
public class ControladorArturAzevedo extends GerenciadorDeTrocasTest {

    @Before
    public void inicializaControlador() {
        StringBuffer controladorJson = new StringBuffer();
        controladorJson.append("{\"id\":\"0ec35b64-a4a1-4c5a-b570-8b9ef1c4a959\",\"versoesTabelasHorarias\":[{\"id\":\"af3cfc1a-db36-48cf-abb3-25078d0cfc57\",\"idJson\":\"dba700d4-bad2-41ae-8974-f9a968b06cd4\",\"statusVersao\":\"CONFIGURADO\",\"tabelaHoraria\":{\"idJson\":\"86809aa1-32ec-4577-b8a2-263da8849bec\"},\"dataCriacao\":\"13/06/2017 18:17:00\",\"dataAtualizacao\":\"21/06/2017 17:35:20\",\"usuario\":{\"nome\":\"Administrador Geral\"}}],\"controladorFisicoId\":\"556ba567-dabd-4db0-9075-a8b796db3f53\",\"numeroSMEE\":\"1721\",\"croqui\":{\"id\":\"b211b1b7-f2e0-4c08-99c5-993f5b18364f\",\"idJson\":\"b958cd46-4208-4b67-8ee1-e55910bafe86\"},\"sequencia\":6,\"limiteEstagio\":16,\"limiteGrupoSemaforico\":24,\"limiteAnel\":4,\"limiteDetectorPedestre\":16,\"limiteDetectorVeicular\":8,\"limiteTabelasEntreVerdes\":2,\"limitePlanos\":8,\"nomeEndereco\":\"R ARTUR DE AZEVEDO  x R MOURATO COELHO \",\"dataCriacao\":\"13/06/2017 18:02:42\",\"dataAtualizacao\":\"21/06/2017 17:35:20\",\"CLC\":\"5.000.0006\",\"bloqueado\":false,\"planosBloqueado\":false,\"verdeMin\":\"1\",\"verdeMax\":\"255\",\"verdeMinimoMin\":\"10\",\"verdeMinimoMax\":\"255\",\"verdeMaximoMin\":\"10\",\"verdeMaximoMax\":\"255\",\"extensaoVerdeMin\":\"1.0\",\"extensaoVerdeMax\":\"10.0\",\"verdeIntermediarioMin\":\"10\",\"verdeIntermediarioMax\":\"255\",\"defasagemMin\":\"0\",\"defasagemMax\":\"255\",\"amareloMin\":\"3\",\"amareloMax\":\"5\",\"vermelhoIntermitenteMin\":\"3\",\"vermelhoIntermitenteMax\":\"32\",\"vermelhoLimpezaVeicularMin\":\"0\",\"vermelhoLimpezaVeicularMax\":\"20\",\"vermelhoLimpezaPedestreMin\":\"0\",\"vermelhoLimpezaPedestreMax\":\"5\",\"atrasoGrupoMin\":\"0\",\"atrasoGrupoMax\":\"20\",\"verdeSegurancaVeicularMin\":\"10\",\"verdeSegurancaVeicularMax\":\"30\",\"verdeSegurancaPedestreMin\":\"4\",\"verdeSegurancaPedestreMax\":\"10\",\"maximoPermanenciaEstagioMin\":\"20\",\"maximoPermanenciaEstagioMax\":\"255\",\"defaultMaximoPermanenciaEstagioVeicular\":127,\"cicloMin\":\"30\",\"cicloMax\":\"255\",\"ausenciaDeteccaoMin\":\"0\",\"ausenciaDeteccaoMax\":\"5800\",\"deteccaoPermanenteMin\":\"0\",\"deteccaoPermanenteMax\":\"10\",\"statusControlador\":\"CONFIGURADO\",\"statusControladorReal\":\"CONFIGURADO\",\"area\":{\"idJson\":\"3088bfa9-7cc4-4872-9269-681e89f73963\"},\"endereco\":{\"idJson\":\"54bcf942-c725-4f9b-9c47-b1d1a4d00861\"},\"modelo\":{\"id\":\"031529e5-fc99-4540-b845-cdaf1fb52535\",\"idJson\":\"48c6c9c6-e2da-40f8-8481-e79a21bed568\",\"descricao\":\"TESTE 2\",\"fabricante\":{\"id\":\"23c5fc63-2da1-4995-a04a-abf330b8b2b7\",\"nome\":\"TEMPO FIXO\"}},\"aneis\":[{\"id\":\"09ed6e4c-3665-4ea7-aa08-1ab320deb68c\",\"idJson\":\"ae63763f-b297-4a59-9977-71dde9b2f0be\",\"ativo\":false,\"aceitaModoManual\":true,\"posicao\":3,\"CLA\":\"5.000.0006.3\",\"estagios\":[],\"gruposSemaforicos\":[],\"detectores\":[],\"planos\":[]},{\"id\":\"1abdf0d9-cf48-4a6b-a973-eff06b5b9cbb\",\"idJson\":\"85b1f7a0-9ea6-4752-adbf-fd76fff1ee7c\",\"ativo\":false,\"aceitaModoManual\":true,\"posicao\":2,\"CLA\":\"5.000.0006.2\",\"estagios\":[],\"gruposSemaforicos\":[],\"detectores\":[],\"planos\":[]},{\"id\":\"8a806df6-8aae-495d-9901-b960a504aa6a\",\"idJson\":\"6d082743-23bc-411c-a0bd-66f599d078fd\",\"numeroSMEE\":\"1721\",\"ativo\":true,\"aceitaModoManual\":true,\"posicao\":1,\"CLA\":\"5.000.0006.1\",\"croqui\":{\"id\":\"efcbff4a-5798-428a-99b7-292b83a71814\",\"idJson\":\"39bb298d-59d4-43df-a915-f40876d186ed\"},\"versaoPlano\":{\"idJson\":\"491f13ef-5fa3-46b9-84e6-ab6c269652f8\"},\"estagios\":[{\"idJson\":\"1e9a5fdb-064c-4766-a18e-1b6a6bd30e0d\"},{\"idJson\":\"80c9d872-384c-457a-8e6e-9901970f9bbc\"},{\"idJson\":\"06c9b120-dffe-4047-955b-8053b9b6952c\"}],\"gruposSemaforicos\":[{\"idJson\":\"9b63f9c6-4aca-4799-aa07-7a6f11ca260b\"},{\"idJson\":\"bf8a0a6f-b1d2-4927-bb71-4fcdbc27dca1\"},{\"idJson\":\"00d29742-1749-4a83-99e0-d13de2e70127\"}],\"detectores\":[{\"idJson\":\"35602f1d-00fa-40af-b111-aeb9af85b774\"},{\"idJson\":\"661bb613-f108-4b98-9644-8b25f953e59e\"},{\"idJson\":\"2adf20ef-e044-40f6-80e5-b501270102ac\"}],\"planos\":[{\"idJson\":\"464e814e-c027-4a53-9cda-258488222be7\"},{\"idJson\":\"797e913c-0b2a-4089-81e8-5c1e39a61a93\"},{\"idJson\":\"06421630-d734-4e42-8da8-b78f5b886411\"}],\"endereco\":{\"idJson\":\"e4d26785-a35c-43da-b34c-461fff2d10d4\"}},{\"id\":\"b6b7cb4e-39e8-494a-8958-894529ce11f8\",\"idJson\":\"a048c0c9-fcf6-4bfb-9aa3-f6f002ea469d\",\"ativo\":false,\"aceitaModoManual\":true,\"posicao\":4,\"CLA\":\"5.000.0006.4\",\"estagios\":[],\"gruposSemaforicos\":[],\"detectores\":[],\"planos\":[]}],\"estagios\":[{\"id\":\"30cfed28-f60e-4f91-9950-c5e17120d1f1\",\"idJson\":\"1e9a5fdb-064c-4766-a18e-1b6a6bd30e0d\",\"tempoMaximoPermanencia\":127,\"tempoMaximoPermanenciaAtivado\":true,\"demandaPrioritaria\":false,\"tempoVerdeDemandaPrioritaria\":1,\"posicao\":2,\"anel\":{\"idJson\":\"6d082743-23bc-411c-a0bd-66f599d078fd\"},\"imagem\":{\"idJson\":\"e9119864-60f4-4ca2-8d17-7d7b1dfd2cca\"},\"detector\":{\"idJson\":\"2adf20ef-e044-40f6-80e5-b501270102ac\"},\"origemDeTransicoesProibidas\":[],\"destinoDeTransicoesProibidas\":[],\"alternativaDeTransicoesProibidas\":[],\"estagiosGruposSemaforicos\":[{\"idJson\":\"ccc08c59-c77a-4bd0-93db-54e1a93e0b0a\"}],\"estagiosPlanos\":[{\"idJson\":\"0985e077-9b49-44b2-bdf4-8903e30a2413\"},{\"idJson\":\"4be0008c-3b4f-43d2-bc69-e2038c7014be\"},{\"idJson\":\"1fd7bdd8-0e6e-4bce-b9f2-5c1add1a7033\"}]},{\"id\":\"a4e3e88d-d83b-434e-9e55-5999b801da6a\",\"idJson\":\"06c9b120-dffe-4047-955b-8053b9b6952c\",\"tempoMaximoPermanencia\":255,\"tempoMaximoPermanenciaAtivado\":true,\"demandaPrioritaria\":false,\"tempoVerdeDemandaPrioritaria\":1,\"posicao\":1,\"anel\":{\"idJson\":\"6d082743-23bc-411c-a0bd-66f599d078fd\"},\"imagem\":{\"idJson\":\"e3ffa49d-85d7-4502-986d-8484f651578a\"},\"detector\":{\"idJson\":\"661bb613-f108-4b98-9644-8b25f953e59e\"},\"origemDeTransicoesProibidas\":[],\"destinoDeTransicoesProibidas\":[],\"alternativaDeTransicoesProibidas\":[],\"estagiosGruposSemaforicos\":[{\"idJson\":\"10301a8e-399b-4845-b46c-d72875501c3b\"}],\"estagiosPlanos\":[{\"idJson\":\"fd907e31-aad3-484d-82dc-ea3e32dc095b\"},{\"idJson\":\"247e17a8-e843-4b86-876a-3398d8796102\"},{\"idJson\":\"7d927a0c-fa65-4919-bcad-bad520e4398e\"}]},{\"id\":\"3435ec11-7ae7-4539-8574-86d4bc1271d9\",\"idJson\":\"80c9d872-384c-457a-8e6e-9901970f9bbc\",\"tempoMaximoPermanencia\":127,\"tempoMaximoPermanenciaAtivado\":true,\"demandaPrioritaria\":false,\"tempoVerdeDemandaPrioritaria\":1,\"posicao\":3,\"anel\":{\"idJson\":\"6d082743-23bc-411c-a0bd-66f599d078fd\"},\"imagem\":{\"idJson\":\"643f0ab3-4979-4fa1-b6d2-3d6eb3556c81\"},\"detector\":{\"idJson\":\"35602f1d-00fa-40af-b111-aeb9af85b774\"},\"origemDeTransicoesProibidas\":[],\"destinoDeTransicoesProibidas\":[],\"alternativaDeTransicoesProibidas\":[],\"estagiosGruposSemaforicos\":[{\"idJson\":\"0296b546-038b-40ba-a15e-dffe13a2b50b\"}],\"estagiosPlanos\":[{\"idJson\":\"f63a7c0e-46ad-41a2-88d0-e32892e913a4\"},{\"idJson\":\"a779832e-972f-401d-a3ce-f05fcaccd1b2\"},{\"idJson\":\"c163f8b3-1425-4b81-9041-10c1afadcca3\"}]}],\"gruposSemaforicos\":[{\"id\":\"337f021e-6018-416f-a65a-4d0a831a78ef\",\"idJson\":\"9b63f9c6-4aca-4799-aa07-7a6f11ca260b\",\"tipo\":\"VEICULAR\",\"posicao\":2,\"descricao\":\"Rua Transversal  - Fixo\",\"faseVermelhaApagadaAmareloIntermitente\":true,\"tempoVerdeSeguranca\":10,\"anel\":{\"idJson\":\"6d082743-23bc-411c-a0bd-66f599d078fd\"},\"verdesConflitantesOrigem\":[],\"verdesConflitantesDestino\":[{\"idJson\":\"db36fe4f-8b16-49df-907b-c5a84249672d\"}],\"estagiosGruposSemaforicos\":[{\"idJson\":\"ccc08c59-c77a-4bd0-93db-54e1a93e0b0a\"}],\"transicoes\":[{\"idJson\":\"874a307d-ec22-42e6-a1ad-bb3aec4f8b2d\"},{\"idJson\":\"20be1e6d-423c-4264-a6ef-c5feee3e10af\"}],\"transicoesComGanhoDePassagem\":[{\"idJson\":\"7f30ab80-084d-47c6-b41b-b592da55b3aa\"},{\"idJson\":\"5d9e44ed-08b1-4db1-8bfd-a9fe20464f3a\"}],\"tabelasEntreVerdes\":[{\"idJson\":\"62ec7554-2281-428c-8da2-23fbb0f30149\"}]},{\"id\":\"47208a83-f816-43d5-98ec-fd9d0512e66f\",\"idJson\":\"bf8a0a6f-b1d2-4927-bb71-4fcdbc27dca1\",\"tipo\":\"VEICULAR\",\"posicao\":3,\"descricao\":\"Rua Transversal  - Dispensável\",\"faseVermelhaApagadaAmareloIntermitente\":true,\"tempoVerdeSeguranca\":10,\"anel\":{\"idJson\":\"6d082743-23bc-411c-a0bd-66f599d078fd\"},\"verdesConflitantesOrigem\":[],\"verdesConflitantesDestino\":[{\"idJson\":\"b282bcb9-45d5-402a-afba-627e2a3ff12c\"}],\"estagiosGruposSemaforicos\":[{\"idJson\":\"0296b546-038b-40ba-a15e-dffe13a2b50b\"}],\"transicoes\":[{\"idJson\":\"f1fe9161-412e-4425-a73b-9b2b78a0697f\"},{\"idJson\":\"b08e17ae-88d6-419b-a745-793847f6f915\"}],\"transicoesComGanhoDePassagem\":[{\"idJson\":\"08d82c71-29d6-4537-b940-e6ad07fb266f\"},{\"idJson\":\"521c02d8-97b5-4592-a434-75d030c04c21\"}],\"tabelasEntreVerdes\":[{\"idJson\":\"d5afa819-8bc4-4451-8fb7-687120bc407f\"}]},{\"id\":\"ffe03b20-fd4e-4326-92c9-ab8b65dcbb4c\",\"idJson\":\"00d29742-1749-4a83-99e0-d13de2e70127\",\"tipo\":\"VEICULAR\",\"posicao\":1,\"descricao\":\"Rua Principal\",\"faseVermelhaApagadaAmareloIntermitente\":true,\"tempoVerdeSeguranca\":12,\"anel\":{\"idJson\":\"6d082743-23bc-411c-a0bd-66f599d078fd\"},\"verdesConflitantesOrigem\":[{\"idJson\":\"db36fe4f-8b16-49df-907b-c5a84249672d\"},{\"idJson\":\"b282bcb9-45d5-402a-afba-627e2a3ff12c\"}],\"verdesConflitantesDestino\":[],\"estagiosGruposSemaforicos\":[{\"idJson\":\"10301a8e-399b-4845-b46c-d72875501c3b\"}],\"transicoes\":[{\"idJson\":\"119f5627-62d2-4798-9f60-4ac06c973357\"},{\"idJson\":\"f0784f8a-88e2-4984-baac-fe45dce502f5\"}],\"transicoesComGanhoDePassagem\":[{\"idJson\":\"adf86bae-df8c-4d77-a3e4-a43af0511715\"},{\"idJson\":\"49243303-3bbd-4f0b-a254-25bad9b0fccd\"}],\"tabelasEntreVerdes\":[{\"idJson\":\"d05cfce7-df4d-4185-ad01-3ef6b8c5c14d\"}]}],\"detectores\":[{\"id\":\"adac3f61-a0c1-4863-a3a7-ffe10dccecd7\",\"idJson\":\"661bb613-f108-4b98-9644-8b25f953e59e\",\"tipo\":\"VEICULAR\",\"posicao\":1,\"monitorado\":true,\"tempoAusenciaDeteccao\":10,\"tempoDeteccaoPermanente\":5,\"anel\":{\"idJson\":\"6d082743-23bc-411c-a0bd-66f599d078fd\"},\"estagio\":{\"idJson\":\"06c9b120-dffe-4047-955b-8053b9b6952c\"}},{\"id\":\"825d4e11-0b1b-4252-80b6-94145931d0d9\",\"idJson\":\"35602f1d-00fa-40af-b111-aeb9af85b774\",\"tipo\":\"VEICULAR\",\"posicao\":3,\"monitorado\":true,\"tempoAusenciaDeteccao\":10,\"tempoDeteccaoPermanente\":5,\"anel\":{\"idJson\":\"6d082743-23bc-411c-a0bd-66f599d078fd\"},\"estagio\":{\"idJson\":\"80c9d872-384c-457a-8e6e-9901970f9bbc\"}},{\"id\":\"b159f7b1-8dc2-4368-a1d0-2981e37ca9c2\",\"idJson\":\"2adf20ef-e044-40f6-80e5-b501270102ac\",\"tipo\":\"VEICULAR\",\"posicao\":2,\"monitorado\":true,\"tempoAusenciaDeteccao\":10,\"tempoDeteccaoPermanente\":5,\"anel\":{\"idJson\":\"6d082743-23bc-411c-a0bd-66f599d078fd\"},\"estagio\":{\"idJson\":\"1e9a5fdb-064c-4766-a18e-1b6a6bd30e0d\"}}],\"transicoesProibidas\":[],\"estagiosGruposSemaforicos\":[{\"id\":\"f75bb5cb-41ee-4342-8c6f-55dabd9c7663\",\"idJson\":\"0296b546-038b-40ba-a15e-dffe13a2b50b\",\"estagio\":{\"idJson\":\"80c9d872-384c-457a-8e6e-9901970f9bbc\"},\"grupoSemaforico\":{\"idJson\":\"bf8a0a6f-b1d2-4927-bb71-4fcdbc27dca1\"}},{\"id\":\"a0dc6f8e-d72b-4bab-b6c8-7315da618d12\",\"idJson\":\"10301a8e-399b-4845-b46c-d72875501c3b\",\"estagio\":{\"idJson\":\"06c9b120-dffe-4047-955b-8053b9b6952c\"},\"grupoSemaforico\":{\"idJson\":\"00d29742-1749-4a83-99e0-d13de2e70127\"}},{\"id\":\"7a85ad33-604f-464c-b1bc-8d60703ac8b2\",\"idJson\":\"ccc08c59-c77a-4bd0-93db-54e1a93e0b0a\",\"estagio\":{\"idJson\":\"1e9a5fdb-064c-4766-a18e-1b6a6bd30e0d\"},\"grupoSemaforico\":{\"idJson\":\"9b63f9c6-4aca-4799-aa07-7a6f11ca260b\"}}],\"verdesConflitantes\":[{\"id\":\"bc936d41-e689-45ff-9617-1c371c07abc5\",\"idJson\":\"b282bcb9-45d5-402a-afba-627e2a3ff12c\",\"origem\":{\"idJson\":\"00d29742-1749-4a83-99e0-d13de2e70127\"},\"destino\":{\"idJson\":\"bf8a0a6f-b1d2-4927-bb71-4fcdbc27dca1\"}},{\"id\":\"b2373f84-43c6-421f-9c96-5c12e2ee674b\",\"idJson\":\"db36fe4f-8b16-49df-907b-c5a84249672d\",\"origem\":{\"idJson\":\"00d29742-1749-4a83-99e0-d13de2e70127\"},\"destino\":{\"idJson\":\"9b63f9c6-4aca-4799-aa07-7a6f11ca260b\"}}],\"transicoes\":[{\"id\":\"6ea45a43-4579-40be-86ea-371f715ddd8d\",\"idJson\":\"20be1e6d-423c-4264-a6ef-c5feee3e10af\",\"origem\":{\"idJson\":\"1e9a5fdb-064c-4766-a18e-1b6a6bd30e0d\"},\"destino\":{\"idJson\":\"80c9d872-384c-457a-8e6e-9901970f9bbc\"},\"tabelaEntreVerdesTransicoes\":[{\"idJson\":\"c207962b-f06f-4c1c-a972-ae830fc05a80\"}],\"grupoSemaforico\":{\"idJson\":\"9b63f9c6-4aca-4799-aa07-7a6f11ca260b\"},\"tipo\":\"PERDA_DE_PASSAGEM\",\"tempoAtrasoGrupo\":\"0\",\"atrasoDeGrupo\":{\"idJson\":\"fd0fce14-c548-4e68-8ed4-34cef87da4bc\"},\"modoIntermitenteOuApagado\":true},{\"id\":\"f09acaae-59db-4f21-81f6-903e034d8216\",\"idJson\":\"b08e17ae-88d6-419b-a745-793847f6f915\",\"origem\":{\"idJson\":\"80c9d872-384c-457a-8e6e-9901970f9bbc\"},\"destino\":{\"idJson\":\"06c9b120-dffe-4047-955b-8053b9b6952c\"},\"tabelaEntreVerdesTransicoes\":[{\"idJson\":\"8d2c0864-3614-467e-9857-751ceadef394\"}],\"grupoSemaforico\":{\"idJson\":\"bf8a0a6f-b1d2-4927-bb71-4fcdbc27dca1\"},\"tipo\":\"PERDA_DE_PASSAGEM\",\"tempoAtrasoGrupo\":\"0\",\"atrasoDeGrupo\":{\"idJson\":\"50a93bd7-9f1c-4132-89f2-c8cd14e0a2e0\"},\"modoIntermitenteOuApagado\":true},{\"id\":\"0f7c90e8-ed5e-4284-816b-46886c77b216\",\"idJson\":\"119f5627-62d2-4798-9f60-4ac06c973357\",\"origem\":{\"idJson\":\"06c9b120-dffe-4047-955b-8053b9b6952c\"},\"destino\":{\"idJson\":\"80c9d872-384c-457a-8e6e-9901970f9bbc\"},\"tabelaEntreVerdesTransicoes\":[{\"idJson\":\"af4aabe2-2408-4393-98ca-72885b7c3c56\"}],\"grupoSemaforico\":{\"idJson\":\"00d29742-1749-4a83-99e0-d13de2e70127\"},\"tipo\":\"PERDA_DE_PASSAGEM\",\"tempoAtrasoGrupo\":\"0\",\"atrasoDeGrupo\":{\"idJson\":\"65865990-b5b8-4759-a50c-03044ae77f09\"},\"modoIntermitenteOuApagado\":true},{\"id\":\"1a2f322b-4263-4440-aeda-85172ff3766e\",\"idJson\":\"874a307d-ec22-42e6-a1ad-bb3aec4f8b2d\",\"origem\":{\"idJson\":\"1e9a5fdb-064c-4766-a18e-1b6a6bd30e0d\"},\"destino\":{\"idJson\":\"06c9b120-dffe-4047-955b-8053b9b6952c\"},\"tabelaEntreVerdesTransicoes\":[{\"idJson\":\"dd3faa9f-ddee-4913-b117-3150e1c777e6\"}],\"grupoSemaforico\":{\"idJson\":\"9b63f9c6-4aca-4799-aa07-7a6f11ca260b\"},\"tipo\":\"PERDA_DE_PASSAGEM\",\"tempoAtrasoGrupo\":\"0\",\"atrasoDeGrupo\":{\"idJson\":\"d7260dc1-e494-46ff-8aa0-b7fe83de9589\"},\"modoIntermitenteOuApagado\":false},{\"id\":\"466d16d0-c46e-4484-b8a1-2d5174506a9a\",\"idJson\":\"f1fe9161-412e-4425-a73b-9b2b78a0697f\",\"origem\":{\"idJson\":\"80c9d872-384c-457a-8e6e-9901970f9bbc\"},\"destino\":{\"idJson\":\"1e9a5fdb-064c-4766-a18e-1b6a6bd30e0d\"},\"tabelaEntreVerdesTransicoes\":[{\"idJson\":\"f0837a39-a5b6-4112-9d7e-089b2efb2e95\"}],\"grupoSemaforico\":{\"idJson\":\"bf8a0a6f-b1d2-4927-bb71-4fcdbc27dca1\"},\"tipo\":\"PERDA_DE_PASSAGEM\",\"tempoAtrasoGrupo\":\"0\",\"atrasoDeGrupo\":{\"idJson\":\"f2a26b6e-f378-4ab2-8d2e-2d8260ff9803\"},\"modoIntermitenteOuApagado\":false},{\"id\":\"578b8ec9-40fd-4052-a5d1-c85084f4d845\",\"idJson\":\"f0784f8a-88e2-4984-baac-fe45dce502f5\",\"origem\":{\"idJson\":\"06c9b120-dffe-4047-955b-8053b9b6952c\"},\"destino\":{\"idJson\":\"1e9a5fdb-064c-4766-a18e-1b6a6bd30e0d\"},\"tabelaEntreVerdesTransicoes\":[{\"idJson\":\"701a7a4b-a8ec-4dbd-8b17-e53c2519b810\"}],\"grupoSemaforico\":{\"idJson\":\"00d29742-1749-4a83-99e0-d13de2e70127\"},\"tipo\":\"PERDA_DE_PASSAGEM\",\"tempoAtrasoGrupo\":\"0\",\"atrasoDeGrupo\":{\"idJson\":\"fdab9f1e-9e2a-4e1d-b083-99264255dfea\"},\"modoIntermitenteOuApagado\":false}],\"transicoesComGanhoDePassagem\":[{\"id\":\"d94a03d5-186b-4583-9e4d-01d42687125c\",\"idJson\":\"5d9e44ed-08b1-4db1-8bfd-a9fe20464f3a\",\"origem\":{\"idJson\":\"80c9d872-384c-457a-8e6e-9901970f9bbc\"},\"destino\":{\"idJson\":\"1e9a5fdb-064c-4766-a18e-1b6a6bd30e0d\"},\"tabelaEntreVerdesTransicoes\":[],\"grupoSemaforico\":{\"idJson\":\"9b63f9c6-4aca-4799-aa07-7a6f11ca260b\"},\"tipo\":\"GANHO_DE_PASSAGEM\",\"tempoAtrasoGrupo\":\"0\",\"atrasoDeGrupo\":{\"idJson\":\"4f30e333-ae8c-4632-b017-763e77b2fc3d\"},\"modoIntermitenteOuApagado\":false},{\"id\":\"379869eb-dffc-4766-81df-02aab2cd554e\",\"idJson\":\"adf86bae-df8c-4d77-a3e4-a43af0511715\",\"origem\":{\"idJson\":\"1e9a5fdb-064c-4766-a18e-1b6a6bd30e0d\"},\"destino\":{\"idJson\":\"06c9b120-dffe-4047-955b-8053b9b6952c\"},\"tabelaEntreVerdesTransicoes\":[],\"grupoSemaforico\":{\"idJson\":\"00d29742-1749-4a83-99e0-d13de2e70127\"},\"tipo\":\"GANHO_DE_PASSAGEM\",\"tempoAtrasoGrupo\":\"0\",\"atrasoDeGrupo\":{\"idJson\":\"1b45af68-f59c-4e6f-9ba6-7f3988b21545\"},\"modoIntermitenteOuApagado\":false},{\"id\":\"a5205c3c-20f3-4571-9ca4-b2f1fcf3bfad\",\"idJson\":\"7f30ab80-084d-47c6-b41b-b592da55b3aa\",\"origem\":{\"idJson\":\"06c9b120-dffe-4047-955b-8053b9b6952c\"},\"destino\":{\"idJson\":\"1e9a5fdb-064c-4766-a18e-1b6a6bd30e0d\"},\"tabelaEntreVerdesTransicoes\":[],\"grupoSemaforico\":{\"idJson\":\"9b63f9c6-4aca-4799-aa07-7a6f11ca260b\"},\"tipo\":\"GANHO_DE_PASSAGEM\",\"tempoAtrasoGrupo\":\"0\",\"atrasoDeGrupo\":{\"idJson\":\"c4edeca4-6a50-47ad-8b64-0faf26e199d6\"},\"modoIntermitenteOuApagado\":false},{\"id\":\"e1dd4a4d-95e3-4790-8f6c-bc56fddae261\",\"idJson\":\"49243303-3bbd-4f0b-a254-25bad9b0fccd\",\"origem\":{\"idJson\":\"80c9d872-384c-457a-8e6e-9901970f9bbc\"},\"destino\":{\"idJson\":\"06c9b120-dffe-4047-955b-8053b9b6952c\"},\"tabelaEntreVerdesTransicoes\":[],\"grupoSemaforico\":{\"idJson\":\"00d29742-1749-4a83-99e0-d13de2e70127\"},\"tipo\":\"GANHO_DE_PASSAGEM\",\"tempoAtrasoGrupo\":\"0\",\"atrasoDeGrupo\":{\"idJson\":\"0793f317-f4be-4d65-bf7b-24d7b347f430\"},\"modoIntermitenteOuApagado\":false},{\"id\":\"93465176-b954-4049-a7ad-ce3fc660148a\",\"idJson\":\"521c02d8-97b5-4592-a434-75d030c04c21\",\"origem\":{\"idJson\":\"06c9b120-dffe-4047-955b-8053b9b6952c\"},\"destino\":{\"idJson\":\"80c9d872-384c-457a-8e6e-9901970f9bbc\"},\"tabelaEntreVerdesTransicoes\":[],\"grupoSemaforico\":{\"idJson\":\"bf8a0a6f-b1d2-4927-bb71-4fcdbc27dca1\"},\"tipo\":\"GANHO_DE_PASSAGEM\",\"tempoAtrasoGrupo\":\"0\",\"atrasoDeGrupo\":{\"idJson\":\"02515929-5664-423a-b605-c8fce9f02768\"},\"modoIntermitenteOuApagado\":false},{\"id\":\"6cc96025-0ff8-4a7f-9f98-f2031f95aef9\",\"idJson\":\"08d82c71-29d6-4537-b940-e6ad07fb266f\",\"origem\":{\"idJson\":\"1e9a5fdb-064c-4766-a18e-1b6a6bd30e0d\"},\"destino\":{\"idJson\":\"80c9d872-384c-457a-8e6e-9901970f9bbc\"},\"tabelaEntreVerdesTransicoes\":[],\"grupoSemaforico\":{\"idJson\":\"bf8a0a6f-b1d2-4927-bb71-4fcdbc27dca1\"},\"tipo\":\"GANHO_DE_PASSAGEM\",\"tempoAtrasoGrupo\":\"0\",\"atrasoDeGrupo\":{\"idJson\":\"30e89d77-aa02-4eae-86b8-f4a12c2168db\"},\"modoIntermitenteOuApagado\":false}],\"tabelasEntreVerdes\":[{\"id\":\"e6093857-12f9-4bfa-9e79-59bf370c32e4\",\"idJson\":\"62ec7554-2281-428c-8da2-23fbb0f30149\",\"descricao\":\"PADRÃO\",\"posicao\":1,\"grupoSemaforico\":{\"idJson\":\"9b63f9c6-4aca-4799-aa07-7a6f11ca260b\"},\"tabelaEntreVerdesTransicoes\":[{\"idJson\":\"c207962b-f06f-4c1c-a972-ae830fc05a80\"},");
        controladorJson.append("{\"idJson\":\"dd3faa9f-ddee-4913-b117-3150e1c777e6\"}]},{\"id\":\"7e0107a0-7b1c-4de6-9e71-8fe6bae0afbe\",\"idJson\":\"d05cfce7-df4d-4185-ad01-3ef6b8c5c14d\",\"descricao\":\"PADRÃO\",\"posicao\":1,\"grupoSemaforico\":{\"idJson\":\"00d29742-1749-4a83-99e0-d13de2e70127\"},\"tabelaEntreVerdesTransicoes\":[{\"idJson\":\"af4aabe2-2408-4393-98ca-72885b7c3c56\"},{\"idJson\":\"701a7a4b-a8ec-4dbd-8b17-e53c2519b810\"}]},{\"id\":\"997da870-c714-48f8-aa90-fb2d0151c9e7\",\"idJson\":\"d5afa819-8bc4-4451-8fb7-687120bc407f\",\"descricao\":\"PADRÃO\",\"posicao\":1,\"grupoSemaforico\":{\"idJson\":\"bf8a0a6f-b1d2-4927-bb71-4fcdbc27dca1\"},\"tabelaEntreVerdesTransicoes\":[{\"idJson\":\"f0837a39-a5b6-4112-9d7e-089b2efb2e95\"},{\"idJson\":\"8d2c0864-3614-467e-9857-751ceadef394\"}]}],\"tabelasEntreVerdesTransicoes\":[{\"id\":\"d51ae205-381b-4572-9094-8e2c173212f5\",\"idJson\":\"af4aabe2-2408-4393-98ca-72885b7c3c56\",\"tempoAmarelo\":\"4\",\"tempoVermelhoLimpeza\":\"2\",\"tempoAtrasoGrupo\":\"0\",\"tabelaEntreVerdes\":{\"idJson\":\"d05cfce7-df4d-4185-ad01-3ef6b8c5c14d\"},\"transicao\":{\"idJson\":\"119f5627-62d2-4798-9f60-4ac06c973357\"}},{\"id\":\"d941954b-fd2f-443e-a38a-c34d9d031f88\",\"idJson\":\"701a7a4b-a8ec-4dbd-8b17-e53c2519b810\",\"tempoAmarelo\":\"4\",\"tempoVermelhoLimpeza\":\"2\",\"tempoAtrasoGrupo\":\"0\",\"tabelaEntreVerdes\":{\"idJson\":\"d05cfce7-df4d-4185-ad01-3ef6b8c5c14d\"},\"transicao\":{\"idJson\":\"f0784f8a-88e2-4984-baac-fe45dce502f5\"}},{\"id\":\"75fac349-bd77-48ba-86df-eea0920ca240\",\"idJson\":\"dd3faa9f-ddee-4913-b117-3150e1c777e6\",\"tempoAmarelo\":\"3\",\"tempoVermelhoLimpeza\":\"2\",\"tempoAtrasoGrupo\":\"0\",\"tabelaEntreVerdes\":{\"idJson\":\"62ec7554-2281-428c-8da2-23fbb0f30149\"},\"transicao\":{\"idJson\":\"874a307d-ec22-42e6-a1ad-bb3aec4f8b2d\"}},{\"id\":\"5041f8aa-9bc1-4161-bbd1-658420458ec5\",\"idJson\":\"8d2c0864-3614-467e-9857-751ceadef394\",\"tempoAmarelo\":\"3\",\"tempoVermelhoLimpeza\":\"2\",\"tempoAtrasoGrupo\":\"0\",\"tabelaEntreVerdes\":{\"idJson\":\"d5afa819-8bc4-4451-8fb7-687120bc407f\"},\"transicao\":{\"idJson\":\"b08e17ae-88d6-419b-a745-793847f6f915\"}},{\"id\":\"2d04c8b5-94c9-48e8-a892-a763225d0bd4\",\"idJson\":\"c207962b-f06f-4c1c-a972-ae830fc05a80\",\"tempoAmarelo\":\"3\",\"tempoVermelhoLimpeza\":\"2\",\"tempoAtrasoGrupo\":\"0\",\"tabelaEntreVerdes\":{\"idJson\":\"62ec7554-2281-428c-8da2-23fbb0f30149\"},\"transicao\":{\"idJson\":\"20be1e6d-423c-4264-a6ef-c5feee3e10af\"}},{\"id\":\"43040191-fb21-4b04-9a63-8db8cad57cdc\",\"idJson\":\"f0837a39-a5b6-4112-9d7e-089b2efb2e95\",\"tempoAmarelo\":\"3\",\"tempoVermelhoLimpeza\":\"2\",\"tempoAtrasoGrupo\":\"0\",\"tabelaEntreVerdes\":{\"idJson\":\"d5afa819-8bc4-4451-8fb7-687120bc407f\"},\"transicao\":{\"idJson\":\"f1fe9161-412e-4425-a73b-9b2b78a0697f\"}}],\"planos\":[{\"id\":\"db7a1f36-122e-44ec-958c-047e3190d5d0\",\"idJson\":\"06421630-d734-4e42-8da8-b78f5b886411\",\"posicao\":2,\"descricao\":\"PLANO 2\",\"tempoCiclo\":0,\"cicloDuplo\":false,\"defasagem\":0,\"posicaoTabelaEntreVerde\":1,\"modoOperacao\":\"ATUADO\",\"isManual\":false,\"isTemporario\":false,\"dataCriacao\":\"13/06/2017 18:15:41\",\"dataAtualizacao\":\"21/06/2017 17:35:13\",\"anel\":{\"idJson\":\"6d082743-23bc-411c-a0bd-66f599d078fd\"},\"versaoPlano\":{\"idJson\":\"491f13ef-5fa3-46b9-84e6-ab6c269652f8\"},\"estagiosPlanos\":[{\"idJson\":\"fd907e31-aad3-484d-82dc-ea3e32dc095b\"},{\"idJson\":\"f63a7c0e-46ad-41a2-88d0-e32892e913a4\"},{\"idJson\":\"0985e077-9b49-44b2-bdf4-8903e30a2413\"}],\"gruposSemaforicosPlanos\":[{\"idJson\":\"7089717a-cb54-42e6-a19a-bcabe94f2a68\"},{\"idJson\":\"7c9fde8f-ca09-4f75-b9d7-c19c44a6d18e\"},{\"idJson\":\"1feec5ec-18d2-4c44-a6de-9d4271333fe7\"}]},{\"id\":\"d345bc22-913c-408d-9a33-15aa3ed3e4d6\",\"idJson\":\"797e913c-0b2a-4089-81e8-5c1e39a61a93\",\"posicao\":0,\"descricao\":\"Exclusivo\",\"tempoCiclo\":30,\"cicloDuplo\":false,\"defasagem\":0,\"posicaoTabelaEntreVerde\":1,\"modoOperacao\":\"MANUAL\",\"isManual\":true,\"isTemporario\":false,\"dataCriacao\":\"13/06/2017 18:11:45\",\"dataAtualizacao\":\"21/06/2017 17:35:13\",\"anel\":{\"idJson\":\"6d082743-23bc-411c-a0bd-66f599d078fd\"},\"versaoPlano\":{\"idJson\":\"491f13ef-5fa3-46b9-84e6-ab6c269652f8\"},\"estagiosPlanos\":[{\"idJson\":\"4be0008c-3b4f-43d2-bc69-e2038c7014be\"},{\"idJson\":\"7d927a0c-fa65-4919-bcad-bad520e4398e\"},{\"idJson\":\"c163f8b3-1425-4b81-9041-10c1afadcca3\"}],\"gruposSemaforicosPlanos\":[{\"idJson\":\"eb51d1a5-56e7-40e0-a7bf-eb54980660b9\"},{\"idJson\":\"fa9db3ae-c28a-47b1-a5e6-98dbce4b8710\"},{\"idJson\":\"68a6f360-7fba-46ce-b84c-90609af08404\"}]},{\"id\":\"4a62eaa8-02a8-4442-9649-05a5e81a3f29\",\"idJson\":\"464e814e-c027-4a53-9cda-258488222be7\",\"posicao\":1,\"descricao\":\"PLANO 1\",\"tempoCiclo\":0,\"cicloDuplo\":false,\"defasagem\":0,\"posicaoTabelaEntreVerde\":1,\"modoOperacao\":\"ATUADO\",\"isManual\":false,\"isTemporario\":false,\"dataCriacao\":\"13/06/2017 18:11:45\",\"dataAtualizacao\":\"21/06/2017 17:35:13\",\"anel\":{\"idJson\":\"6d082743-23bc-411c-a0bd-66f599d078fd\"},\"versaoPlano\":{\"idJson\":\"491f13ef-5fa3-46b9-84e6-ab6c269652f8\"},\"estagiosPlanos\":[{\"idJson\":\"247e17a8-e843-4b86-876a-3398d8796102\"},{\"idJson\":\"a779832e-972f-401d-a3ce-f05fcaccd1b2\"},{\"idJson\":\"1fd7bdd8-0e6e-4bce-b9f2-5c1add1a7033\"}],\"gruposSemaforicosPlanos\":[{\"idJson\":\"0a54208c-e08c-47d7-be71-5061d727508f\"},{\"idJson\":\"01436080-fa29-42e8-81d5-8b6f5057f2b6\"},{\"idJson\":\"0019c00b-00eb-442d-b32d-9acaeb282a0e\"}]}],\"gruposSemaforicosPlanos\":[{\"id\":\"811a6127-6f76-43f9-8f70-e10d38ccf349\",\"idJson\":\"7089717a-cb54-42e6-a19a-bcabe94f2a68\",\"plano\":{\"idJson\":\"06421630-d734-4e42-8da8-b78f5b886411\"},\"grupoSemaforico\":{\"idJson\":\"00d29742-1749-4a83-99e0-d13de2e70127\"},\"ativado\":true},{\"id\":\"95b3fac8-f304-4da0-b460-e3a4d8452b50\",\"idJson\":\"fa9db3ae-c28a-47b1-a5e6-98dbce4b8710\",\"plano\":{\"idJson\":\"797e913c-0b2a-4089-81e8-5c1e39a61a93\"},\"grupoSemaforico\":{\"idJson\":\"bf8a0a6f-b1d2-4927-bb71-4fcdbc27dca1\"},\"ativado\":true},{\"id\":\"aba81010-d2f9-4ffb-ba28-738681a658fa\",\"idJson\":\"68a6f360-7fba-46ce-b84c-90609af08404\",\"plano\":{\"idJson\":\"797e913c-0b2a-4089-81e8-5c1e39a61a93\"},\"grupoSemaforico\":{\"idJson\":\"00d29742-1749-4a83-99e0-d13de2e70127\"},\"ativado\":true},{\"id\":\"fa512460-fc6d-48f5-a659-3f29b3b7d9e7\",\"idJson\":\"1feec5ec-18d2-4c44-a6de-9d4271333fe7\",\"plano\":{\"idJson\":\"06421630-d734-4e42-8da8-b78f5b886411\"},\"grupoSemaforico\":{\"idJson\":\"9b63f9c6-4aca-4799-aa07-7a6f11ca260b\"},\"ativado\":true},{\"id\":\"12194fc8-4104-4d4e-b92d-df3044e23684\",\"idJson\":\"0a54208c-e08c-47d7-be71-5061d727508f\",\"plano\":{\"idJson\":\"464e814e-c027-4a53-9cda-258488222be7\"},\"grupoSemaforico\":{\"idJson\":\"bf8a0a6f-b1d2-4927-bb71-4fcdbc27dca1\"},\"ativado\":true},{\"id\":\"13aba9e2-1195-43e3-ad8f-c3cfef78ce0d\",\"idJson\":\"eb51d1a5-56e7-40e0-a7bf-eb54980660b9\",\"plano\":{\"idJson\":\"797e913c-0b2a-4089-81e8-5c1e39a61a93\"},\"grupoSemaforico\":{\"idJson\":\"9b63f9c6-4aca-4799-aa07-7a6f11ca260b\"},\"ativado\":true},{\"id\":\"8186b2b6-00f4-4497-bb30-1d52a23e9a1e\",\"idJson\":\"7c9fde8f-ca09-4f75-b9d7-c19c44a6d18e\",\"plano\":{\"idJson\":\"06421630-d734-4e42-8da8-b78f5b886411\"},\"grupoSemaforico\":{\"idJson\":\"bf8a0a6f-b1d2-4927-bb71-4fcdbc27dca1\"},\"ativado\":true},{\"id\":\"2b7969d1-e545-4042-aa0c-e23a790736b4\",\"idJson\":\"01436080-fa29-42e8-81d5-8b6f5057f2b6\",\"plano\":{\"idJson\":\"464e814e-c027-4a53-9cda-258488222be7\"},\"grupoSemaforico\":{\"idJson\":\"9b63f9c6-4aca-4799-aa07-7a6f11ca260b\"},\"ativado\":true},{\"id\":\"4f5203fe-4a48-4936-b026-1b79f7c1dde3\",\"idJson\":\"0019c00b-00eb-442d-b32d-9acaeb282a0e\",\"plano\":{\"idJson\":\"464e814e-c027-4a53-9cda-258488222be7\"},\"grupoSemaforico\":{\"idJson\":\"00d29742-1749-4a83-99e0-d13de2e70127\"},\"ativado\":true}],\"estagiosPlanos\":[{\"id\":\"ae809b09-cdff-4b63-b7c3-f81979609643\",\"idJson\":\"4be0008c-3b4f-43d2-bc69-e2038c7014be\",\"posicao\":2,\"tempoVerde\":10,\"dispensavel\":false,\"plano\":{\"idJson\":\"797e913c-0b2a-4089-81e8-5c1e39a61a93\"},\"estagio\":{\"idJson\":\"1e9a5fdb-064c-4766-a18e-1b6a6bd30e0d\"}},{\"id\":\"3a7a7baa-0ccf-4930-9776-240a942299f6\",\"idJson\":\"247e17a8-e843-4b86-876a-3398d8796102\",\"posicao\":1,\"tempoVerde\":0,\"tempoVerdeMinimo\":15,\"tempoVerdeMaximo\":30,\"tempoVerdeIntermediario\":20,\"tempoExtensaoVerde\":3.0,\"dispensavel\":false,\"plano\":{\"idJson\":\"464e814e-c027-4a53-9cda-258488222be7\"},\"estagio\":{\"idJson\":\"06c9b120-dffe-4047-955b-8053b9b6952c\"}},{\"id\":\"62762983-a21c-4933-a0ee-0cd61836cb5c\",\"idJson\":\"a779832e-972f-401d-a3ce-f05fcaccd1b2\",\"posicao\":3,\"tempoVerde\":0,\"tempoVerdeMinimo\":12,\"tempoVerdeMaximo\":20,\"tempoVerdeIntermediario\":15,\"tempoExtensaoVerde\":2.0,\"dispensavel\":true,\"plano\":{\"idJson\":\"464e814e-c027-4a53-9cda-258488222be7\"},\"estagio\":{\"idJson\":\"80c9d872-384c-457a-8e6e-9901970f9bbc\"}},{\"id\":\"e1b82d6a-d83f-4791-906a-02fec27447ec\",\"idJson\":\"1fd7bdd8-0e6e-4bce-b9f2-5c1add1a7033\",\"posicao\":2,\"tempoVerde\":0,\"tempoVerdeMinimo\":12,\"tempoVerdeMaximo\":18,\"tempoVerdeIntermediario\":15,\"tempoExtensaoVerde\":2.0,\"dispensavel\":false,\"plano\":{\"idJson\":\"464e814e-c027-4a53-9cda-258488222be7\"},\"estagio\":{\"idJson\":\"1e9a5fdb-064c-4766-a18e-1b6a6bd30e0d\"}},{\"id\":\"f3559c8e-9126-470a-988b-07fb313cdd19\",\"idJson\":\"c163f8b3-1425-4b81-9041-10c1afadcca3\",\"posicao\":3,\"tempoVerde\":10,\"dispensavel\":false,\"plano\":{\"idJson\":\"797e913c-0b2a-4089-81e8-5c1e39a61a93\"},\"estagio\":{\"idJson\":\"80c9d872-384c-457a-8e6e-9901970f9bbc\"}},{\"id\":\"a3472d39-d4cb-48fc-98da-1bb7f991c291\",\"idJson\":\"0985e077-9b49-44b2-bdf4-8903e30a2413\",\"posicao\":3,\"tempoVerde\":0,\"tempoVerdeMinimo\":12,\"tempoVerdeMaximo\":18,\"tempoVerdeIntermediario\":15,\"tempoExtensaoVerde\":2.0,\"dispensavel\":false,\"plano\":{\"idJson\":\"06421630-d734-4e42-8da8-b78f5b886411\"},\"estagio\":{\"idJson\":\"1e9a5fdb-064c-4766-a18e-1b6a6bd30e0d\"}},{\"id\":\"2d005777-f2f8-4a8b-a332-881bc722de81\",\"idJson\":\"fd907e31-aad3-484d-82dc-ea3e32dc095b\",\"posicao\":1,\"tempoVerde\":0,\"tempoVerdeMinimo\":15,\"tempoVerdeMaximo\":30,\"tempoVerdeIntermediario\":20,\"tempoExtensaoVerde\":3.0,\"dispensavel\":false,\"plano\":{\"idJson\":\"06421630-d734-4e42-8da8-b78f5b886411\"},\"estagio\":{\"idJson\":\"06c9b120-dffe-4047-955b-8053b9b6952c\"}},{\"id\":\"aff9e294-e8f3-4899-960c-e9258e5ae561\",\"idJson\":\"7d927a0c-fa65-4919-bcad-bad520e4398e\",\"posicao\":1,\"tempoVerde\":12,\"dispensavel\":false,\"plano\":{\"idJson\":\"797e913c-0b2a-4089-81e8-5c1e39a61a93\"},\"estagio\":{\"idJson\":\"06c9b120-dffe-4047-955b-8053b9b6952c\"}},{\"id\":\"32eed1ea-f0b9-4f4a-9a20-3cf94ca1cc5a\",\"idJson\":\"f63a7c0e-46ad-41a2-88d0-e32892e913a4\",\"posicao\":2,\"tempoVerde\":0,\"tempoVerdeMinimo\":12,\"tempoVerdeMaximo\":20,\"tempoVerdeIntermediario\":15,\"tempoExtensaoVerde\":2.0,\"dispensavel\":true,\"plano\":{\"idJson\":\"06421630-d734-4e42-8da8-b78f5b886411\"},\"estagio\":{\"idJson\":\"80c9d872-384c-457a-8e6e-9901970f9bbc\"}}],\"cidades\":[{\"id\":\"cf55f1cf-28b5-4e8c-88e4-9fe53e428498\",\"idJson\":\"3cd23da1-01f8-44e6-8bce-109d985426ae\",\"nome\":\"São Paulo\",\"areas\":[{\"idJson\":\"9295c9c4-9af2-4e49-a306-a6d42ba5d474\"},{\"idJson\":\"3088bfa9-7cc4-4872-9269-681e89f73963\"},{\"idJson\":\"4d7878e6-26cb-4b21-8e36-b24191ac4a66\"},{\"idJson\":\"9ee50487-6a02-4c16-9437-5962b04227c8\"},{\"idJson\":\"c674e546-f770-45f2-aa2f-6520da0db2b8\"}]}],\"areas\":[{\"id\":\"88c9a611-4e48-4275-b0bd-fdceb820d3c7\",\"idJson\":\"9ee50487-6a02-4c16-9437-5962b04227c8\",\"descricao\":1,\"cidade\":{\"idJson\":\"3cd23da1-01f8-44e6-8bce-109d985426ae\"},\"limites\":[],\"subareas\":[]},{\"id\":\"1b0d3de0-cfc6-418f-8152-813f485a26a0\",\"idJson\":\"3088bfa9-7cc4-4872-9269-681e89f73963\",\"descricao\":5,\"cidade\":{\"idJson\":\"3cd23da1-01f8-44e6-8bce-109d985426ae\"},\"limites\":[],\"subareas\":[{\"id\":\"8540517c-04ee-4994-95e9-6557ad99d13b\",\"idJson\":\"4f05270b-75eb-4e0f-8e9f-a614f823c331\",\"nome\":\"Teste estágio demandado\",\"numero\":\"55\"},{\"id\":\"eb621b35-07df-4b04-a0a5-6450d9b11526\",\"idJson\":\"bcecfd9e-77a3-46bd-a534-cc636d8395a7\",\"nome\":\"ALAMEDA BARROS\",\"numero\":\"25\"}]},{\"id\":\"08313079-c53a-4b2f-9206-149f62b0d995\",\"idJson\":\"9295c9c4-9af2-4e49-a306-a6d42ba5d474\",\"descricao\":3,\"cidade\":{\"idJson\":\"3cd23da1-01f8-44e6-8bce-109d985426ae\"},\"limites\":[],\"subareas\":[]},{\"id\":\"2876b315-f8ff-4b0f-9e4c-1cc3fdf63d08\",\"idJson\":\"4d7878e6-26cb-4b21-8e36-b24191ac4a66\",\"descricao\":2,\"cidade\":{\"idJson\":\"3cd23da1-01f8-44e6-8bce-109d985426ae\"},\"limites\":[],\"subareas\":[]},{\"id\":\"9602386e-dc85-454a-95e0-c7f0140bdda7\",\"idJson\":\"c674e546-f770-45f2-aa2f-6520da0db2b8\",\"descricao\":4,\"cidade\":{\"idJson\":\"3cd23da1-01f8-44e6-8bce-109d985426ae\"},\"limites\":[],\"subareas\":[]}],\"limites\":[],\"todosEnderecos\":[{\"id\":\"967b6a0a-ecbf-4952-a479-6008d3a88595\",\"idJson\":\"54bcf942-c725-4f9b-9c47-b1d1a4d00861\",\"localizacao\":\"R ARTUR DE AZEVEDO \",\"latitude\":-23.565324959999998,\"longitude\":-46.68629616,\"localizacao2\":\"R MOURATO COELHO \"},{\"id\":\"8a9dba2e-6baa-40c6-9e26-ce91fc795bd2\",\"idJson\":\"e4d26785-a35c-43da-b34c-461fff2d10d4\",\"localizacao\":\"R ARTUR DE AZEVEDO \",\"latitude\":-23.565324959999998,\"longitude\":-46.68629616,\"localizacao2\":\"R MOURATO COELHO \"}],\"imagens\":[{\"id\":\"9f581077-0434-45cb-ab7a-b2fcdd2159cb\",\"idJson\":\"e9119864-60f4-4ca2-8d17-7d7b1dfd2cca\",\"fileName\":\"ANEL3ESTAGIO2.JPG\",\"contentType\":\"image/jpeg\"},{\"id\":\"efcbff4a-5798-428a-99b7-292b83a71814\",\"idJson\":\"39bb298d-59d4-43df-a915-f40876d186ed\",\"fileName\":\"croquianel3.JPG\",\"contentType\":\"image/jpeg\"},{\"id\":\"b211b1b7-f2e0-4c08-99c5-993f5b18364f\",\"idJson\":\"b958cd46-4208-4b67-8ee1-e55910bafe86\",\"fileName\":\"croquianel3.JPG\",\"contentType\":\"image/jpeg\"},{\"id\":\"f1fac861-ea1b-4a61-8416-4a336d2d8103\",\"idJson\":\"e3ffa49d-85d7-4502-986d-8484f651578a\",\"fileName\":\"ANEL3ESTAGIO1.JPG\",\"contentType\":\"image/jpeg\"},{\"id\":\"c5b852c4-2356-42af-9a17-bc83595bd5ab\",\"idJson\":\"643f0ab3-4979-4fa1-b6d2-3d6eb3556c81\",\"fileName\":\"ANEL3ESTAGIO3.JPG\",\"contentType\":\"image/jpeg\"}],\"atrasosDeGrupo\":[{\"id\":\"4c1c1fcd-f1c5-4b03-8b29-dbbb7f77df98\",\"idJson\":\"f2a26b6e-f378-4ab2-8d2e-2d8260ff9803\",\"atrasoDeGrupo\":0},{\"id\":\"0881b582-64bf-49db-b959-4ff12a40b544\",\"idJson\":\"fd0fce14-c548-4e68-8ed4-34cef87da4bc\",\"atrasoDeGrupo\":0},{\"id\":\"a7f7ef93-ed27-47a3-ba9e-bc93453b18ca\",\"idJson\":\"02515929-5664-423a-b605-c8fce9f02768\",\"atrasoDeGrupo\":0},{\"id\":\"f355480f-3e65-40ed-9baa-d6f52c9ddd12\",\"idJson\":\"30e89d77-aa02-4eae-86b8-f4a12c2168db\",\"atrasoDeGrupo\":0},{\"id\":\"e2f5dec5-8b1d-435a-abf6-eb37fa3f7c8f\",\"idJson\":\"d7260dc1-e494-46ff-8aa0-b7fe83de9589\",\"atrasoDeGrupo\":0},{\"id\":\"7dcc1b01-f2f5-43de-9470-a3bfd4561fb9\",\"idJson\":\"4f30e333-ae8c-4632-b017-763e77b2fc3d\",\"atrasoDeGrupo\":0},{\"id\":\"af360728-9507-4a24-8e06-d5e926970a62\",\"idJson\":\"c4edeca4-6a50-47ad-8b64-0faf26e199d6\",\"atrasoDeGrupo\":0},{\"id\":\"da2e3536-df67-43ba-b0ef-db23f898f325\",\"idJson\":\"fdab9f1e-9e2a-4e1d-b083-99264255dfea\",\"atrasoDeGrupo\":0},{\"id\":\"cc05fa1b-21cc-4ff4-99ac-9d706c9e49a7\",\"idJson\":\"65865990-b5b8-4759-a50c-03044ae77f09\",\"atrasoDeGrupo\":0},{\"id\":\"a21818db-2e99-47f0-9dc1-43b4e4a90e2d\",\"idJson\":\"50a93bd7-9f1c-4132-89f2-c8cd14e0a2e0\",\"atrasoDeGrupo\":0},{\"id\":\"d5cdc357-d57c-4dab-80e4-bc2aafa236b0\",\"idJson\":\"1b45af68-f59c-4e6f-9ba6-7f3988b21545\",\"atrasoDeGrupo\":0},{\"id\":\"689438c4-8f1d-4950-9053-1ef684d4e1da\",\"idJson\":\"0793f317-f4be-4d65-bf7b-24d7b347f430\",\"atrasoDeGrupo\":0}],\"versaoControlador\":{\"id\":\"b8781c2c-1cb3-4a19-ae4b-9e447a170cbf\",\"idJson\":null,\"descricao\":\"TESTE PARA MODO TEMPO FIXO ATUADO\",\"statusVersao\":\"CONFIGURADO\",\"controlador\":{\"id\":\"0ec35b64-a4a1-4c5a-b570-8b9ef1c4a959\"},\"controladorFisico\":{\"id\":\"556ba567-dabd-4db0-9075-a8b796db3f53\"},\"usuario\":{\"id\":\"6d29fd4e-f541-11e6-80e5-005056ac4b3c\",\"nome\":\"Administrador Geral\",\"login\":\"root\",\"email\":\"root@influunt.com.br\"}},\"statusVersao\":\"CONFIGURADO\",\"versoesPlanos\":[{\"id\":\"7220fa9a-8bad-4f1c-bc63-83bc21157413\",\"idJson\":\"491f13ef-5fa3-46b9-84e6-ab6c269652f8\",\"statusVersao\":\"CONFIGURADO\",\"anel\":{\"idJson\":\"6d082743-23bc-411c-a0bd-66f599d078fd\"},\"planos\":[{\"idJson\":\"464e814e-c027-4a53-9cda-258488222be7\"},{\"idJson\":\"797e913c-0b2a-4089-81e8-5c1e39a61a93\"},{\"idJson\":\"06421630-d734-4e42-8da8-b78f5b886411\"}]}],\"tabelasHorarias\":[{\"id\":\"36f4339a-f807-4253-aec0-893b27261d1a\",\"idJson\":\"86809aa1-32ec-4577-b8a2-263da8849bec\",\"versaoTabelaHoraria\":{\"idJson\":\"dba700d4-bad2-41ae-8974-f9a968b06cd4\"},\"eventos\":[{\"idJson\":\"bc079836-1e52-44aa-90e2-b7cdc131f474\"},{\"idJson\":\"db9da9d8-9bd8-4ddc-82d2-ffc6c12012eb\"},{\"idJson\":\"fff0ff53-9756-4d32-af98-8629e8b4266c\"}]}],\"eventos\":[{\"id\":\"035e3fda-b771-4c0a-bd7b-1fb512cfc18e\",\"idJson\":\"bc079836-1e52-44aa-90e2-b7cdc131f474\",\"posicao\":\"1\",\"tipo\":\"NORMAL\",\"diaDaSemana\":\"Todos os dias da semana\",\"data\":\"13-06-2017\",\"horario\":\"06:30:00.000\",\"posicaoPlano\":\"1\",\"tabelaHoraria\":{\"idJson\":\"86809aa1-32ec-4577-b8a2-263da8849bec\"}},{\"id\":\"826a8030-1ec7-4ef3-859c-fc96de8cf86d\",\"idJson\":\"fff0ff53-9756-4d32-af98-8629e8b4266c\",\"posicao\":\"3\",\"tipo\":\"NORMAL\",\"diaDaSemana\":\"Segunda à Sexta\",\"data\":\"13-06-2017\",\"horario\":\"17:30:00.000\",\"posicaoPlano\":\"1\",\"tabelaHoraria\":{\"idJson\":\"86809aa1-32ec-4577-b8a2-263da8849bec\"}},{\"id\":\"36435866-acb9-443f-86a7-5a212902f680\",\"idJson\":\"db9da9d8-9bd8-4ddc-82d2-ffc6c12012eb\",\"posicao\":\"2\",\"tipo\":\"NORMAL\",\"diaDaSemana\":\"Segunda à Sexta\",\"data\":\"13-06-2017\",\"horario\":\"12:00:00.000\",\"posicaoPlano\":\"2\",\"tabelaHoraria\":{\"idJson\":\"86809aa1-32ec-4577-b8a2-263da8849bec\"}}],\"controladorConfigurado\":true,\"planoConfigurado\":true,\"tabelaHorariaConfigurado\":true,\"exclusivoParaTeste\":false}");

        controlador = new ControladorCustomDeserializer().getControladorFromJson(Json.parse(controladorJson.toString()));
    }

    @Test
    public void erroAcionamentoDetectorNoMomentoZero() throws IOException {
        inicioExecucao = new DateTime(2017, 7, 12, 7, 0, 0);

        assertTrue(controlador.isCompleto());

        Motor motor = new Motor(controlador, inicioExecucao, this);

        Anel anel = getAnel(1);
        Pair<Integer, TipoDetector> detector = getDetector(anel, 1);

        avancarSegundos(motor, 60);
        motor.onEvento(new EventoMotor(inicioExecucao.plusSeconds(60), TipoEvento.ACIONAMENTO_DETECTOR_VEICULAR, detector, 1));
        avancarSegundos(motor, 3);
        motor.onEvento(new EventoMotor(inicioExecucao.plusSeconds(63), TipoEvento.ACIONAMENTO_DETECTOR_VEICULAR, detector, 1));
        avancarSegundos(motor, 100);

        verificaGruposSemaforicos(41, new GrupoCheck(1, 1, 0, 5000, EstadoGrupoSemaforico.VERMELHO));
        verificaGruposSemaforicos(41, new GrupoCheck(1, 1, 5000, 20000, EstadoGrupoSemaforico.VERDE));

        verificaHistoricoGruposSemaforicos(63, new GrupoCheck(1, 1, 0, 5000, EstadoGrupoSemaforico.VERMELHO));
        verificaHistoricoGruposSemaforicos(63, new GrupoCheck(1, 1, 5000, 22000, EstadoGrupoSemaforico.VERDE));

    }

}
